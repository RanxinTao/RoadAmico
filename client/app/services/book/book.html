<div ng-include="'components/navbar/navbar.html'"></div>

<div class="container page">
  <h1>Book Time Slot</h1>

  <h2>Details</h2>
  <table class="table">
    <tr>
      <td><strong>Service</strong></td>
      <td>{{service.name}}</td>
    </tr>
    <tr>
      <td><strong>Provider</strong></td>
      <td>{{service.provider.name}}</td>
    </tr>
    <tr>
      <td><strong>Location</strong></td>
      <td>{{service.location}}</td>
    </tr>
    <tr>
      <td><strong>Time</strong></td>
      <td>{{availability.datetime | date:'medium'}}</td>
    </tr>
    <tr>
      <td><strong>Duration</strong></td>
      <td>{{availability._duration.humanize()}}</td>
    </tr>
    <tr>
      <td><strong>Cost</strong></td>
      <td>{{availability.cost | currency}}</td>
    </tr>
  </table>

  <div ng-show="availability.booking.booker">

    <div class="well text-center bg-ra-red" ng-hide="availability.booking.booker == user._id">
      <strong>This time slot has already been booked.</strong>
    </div>
    <div class="well text-center bg-grass-light" ng-show="availability.booking.booker == user._id">
      <strong>You have already booked this time slot.</strong>
    </div>


  </div>
  <div ng-hide="availability.booking.booker">
    <h2>Payment</h2>
    <p>TODO: Add payment selection.</p>

    <div>
      <button class="btn btn-primary" ng-click="confirm()">Confirm</button>
      <a ui-sref="service.view({id: service._id})">Cancel</a>
    </div>
  </div>

</div>

<div ng-include="'components/footer/footer.html'"></div>
